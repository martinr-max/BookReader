{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _helpersContains = require('../helpers/contains');\n\nvar _helpersContains2 = _interopRequireDefault(_helpersContains);\n\nvar _helpersInjectStyle = require('../helpers/injectStyle');\n\nvar _helpersInjectStyle2 = _interopRequireDefault(_helpersInjectStyle); // Auto inject the styles (will only be done once)\n\n\n(0, _helpersInjectStyle2['default'])();\nexports['default'] = _react2['default'].createClass({\n  displayName: 'ReactFlipCard',\n  getDefaultProps: function getDefaultProps() {\n    return {\n      type: 'horizontal',\n      flipped: false,\n      disabled: false\n    };\n  },\n  getInitialState: function getInitialState() {\n    return {\n      hasFocus: false,\n      isFlipped: this.props.flipped\n    };\n  },\n  componentDidMount: function componentDidMount() {\n    this._hideFlippedSide();\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(newProps) {\n    var _this = this; // Make sure both sides are displayed for animation\n\n\n    this._showBothSides(); // Wait for display above to take effect\n\n\n    setTimeout(function () {\n      _this.setState({\n        isFlipped: newProps.flipped\n      });\n    }, 0);\n  },\n  componentWillUpdate: function componentWillUpdate(nextProps, nextState) {\n    // If card is flipping to back via props, track element for focus\n    if (!this.props.flipped && nextProps.flipped) {\n      // The element that focus will return to when flipped back to front\n      this.focusElement = document.activeElement; // Indicates that the back of card needs focus\n\n      this.focusBack = true;\n    } // If isFlipped has changed need to notify\n\n\n    if (this.state.isFlipped !== nextState.isFlipped) {\n      this.notifyFlip = true;\n    }\n  },\n  componentDidUpdate: function componentDidUpdate() {\n    // If card has flipped to front, and focus is still within the card\n    // return focus to the element that triggered flipping to the back.\n    if (!this.props.flipped && this.focusElement && (0, _helpersContains2['default'])((0, _reactDom.findDOMNode)(this), document.activeElement)) {\n      this.focusElement.focus();\n      this.focusElement = null;\n    } // Direct focus to the back if needed\n\n    /* eslint brace-style:0 */\n    else if (this.focusBack) {\n        this.refs.back.focus();\n        this.focusBack = false;\n      } // Notify card being flipped\n\n\n    if (this.notifyFlip && typeof this.props.onFlip === 'function') {\n      this.props.onFlip(this.state.isFlipped);\n      this.notifyFlip = false;\n    } // Hide whichever side of the card is down\n\n\n    setTimeout(this._hideFlippedSide, 600);\n  },\n  handleFocus: function handleFocus() {\n    if (this.props.disabled) return;\n    this.setState({\n      isFlipped: true\n    });\n  },\n  handleBlur: function handleBlur() {\n    if (this.props.disabled) return;\n    this.setState({\n      isFlipped: false\n    });\n  },\n  handleKeyDown: function handleKeyDown(e) {\n    if (typeof this.props.onKeyDown === 'function') {\n      this.props.onKeyDown(e);\n    }\n  },\n  render: function render() {\n    return _react2['default'].createElement('div', {\n      className: (0, _classnames2['default'])({\n        'ReactFlipCard': true,\n        'ReactFlipCard--vertical': this.props.type === 'vertical',\n        'ReactFlipCard--horizontal': this.props.type !== 'vertical',\n        'ReactFlipCard--flipped': this.state.isFlipped,\n        'ReactFlipCard--enabled': !this.props.disabled\n      }),\n      tabIndex: 0,\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur,\n      onKeyDown: this.handleKeyDown\n    }, _react2['default'].createElement('div', {\n      className: 'ReactFlipCard__Flipper'\n    }, _react2['default'].createElement('div', {\n      className: 'ReactFlipCard__Front',\n      ref: 'front',\n      tabIndex: -1,\n      'aria-hidden': this.state.isFlipped\n    }, this.props.children[0]), _react2['default'].createElement('div', {\n      className: 'ReactFlipCard__Back',\n      ref: 'back',\n      tabIndex: -1,\n      'aria-hidden': !this.state.isFlipped\n    }, this.props.children[1])));\n  },\n  _showBothSides: function _showBothSides() {\n    this.refs.front.style.display = '';\n    this.refs.back.style.display = '';\n  },\n  _hideFlippedSide: function _hideFlippedSide() {\n    // This prevents the flipped side from being tabbable\n    if (this.props.disabled) {\n      if (this.state.isFlipped) {\n        this.refs.front.style.display = 'none';\n      } else {\n        this.refs.back.style.display = 'none';\n      }\n    }\n  }\n});\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/Users/martinraba/Desktop/book_app/node_modules/react-flipcard/lib/components/FlipCard.js"],"names":["Object","defineProperty","exports","value","_interopRequireDefault","obj","__esModule","_react","require","_react2","_reactDom","_classnames","_classnames2","_helpersContains","_helpersContains2","_helpersInjectStyle","_helpersInjectStyle2","createClass","displayName","getDefaultProps","type","flipped","disabled","getInitialState","hasFocus","isFlipped","props","componentDidMount","_hideFlippedSide","componentWillReceiveProps","newProps","_this","_showBothSides","setTimeout","setState","componentWillUpdate","nextProps","nextState","focusElement","document","activeElement","focusBack","state","notifyFlip","componentDidUpdate","findDOMNode","focus","refs","back","onFlip","handleFocus","handleBlur","handleKeyDown","e","onKeyDown","render","createElement","className","tabIndex","onFocus","onBlur","ref","children","front","style","display","module"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _helpersContains = require('../helpers/contains');\n\nvar _helpersContains2 = _interopRequireDefault(_helpersContains);\n\nvar _helpersInjectStyle = require('../helpers/injectStyle');\n\nvar _helpersInjectStyle2 = _interopRequireDefault(_helpersInjectStyle);\n\n// Auto inject the styles (will only be done once)\n(0, _helpersInjectStyle2['default'])();\n\nexports['default'] = _react2['default'].createClass({\n  displayName: 'ReactFlipCard',\n\n  \n  getDefaultProps: function getDefaultProps() {\n    return {\n      type: 'horizontal',\n      flipped: false,\n      disabled: false\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      hasFocus: false,\n      isFlipped: this.props.flipped\n    };\n  },\n\n  componentDidMount: function componentDidMount() {\n    this._hideFlippedSide();\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(newProps) {\n    var _this = this;\n\n    // Make sure both sides are displayed for animation\n    this._showBothSides();\n\n    // Wait for display above to take effect\n    setTimeout(function () {\n      _this.setState({\n        isFlipped: newProps.flipped\n      });\n    }, 0);\n  },\n\n  componentWillUpdate: function componentWillUpdate(nextProps, nextState) {\n    // If card is flipping to back via props, track element for focus\n    if (!this.props.flipped && nextProps.flipped) {\n      // The element that focus will return to when flipped back to front\n      this.focusElement = document.activeElement;\n      // Indicates that the back of card needs focus\n      this.focusBack = true;\n    }\n\n    // If isFlipped has changed need to notify\n    if (this.state.isFlipped !== nextState.isFlipped) {\n      this.notifyFlip = true;\n    }\n  },\n\n  componentDidUpdate: function componentDidUpdate() {\n    // If card has flipped to front, and focus is still within the card\n    // return focus to the element that triggered flipping to the back.\n    if (!this.props.flipped && this.focusElement && (0, _helpersContains2['default'])((0, _reactDom.findDOMNode)(this), document.activeElement)) {\n      this.focusElement.focus();\n      this.focusElement = null;\n    }\n    // Direct focus to the back if needed\n    /* eslint brace-style:0 */\n    else if (this.focusBack) {\n        this.refs.back.focus();\n        this.focusBack = false;\n      }\n\n    // Notify card being flipped\n    if (this.notifyFlip && typeof this.props.onFlip === 'function') {\n      this.props.onFlip(this.state.isFlipped);\n      this.notifyFlip = false;\n    }\n\n    // Hide whichever side of the card is down\n    setTimeout(this._hideFlippedSide, 600);\n  },\n\n  handleFocus: function handleFocus() {\n    if (this.props.disabled) return;\n\n    this.setState({\n      isFlipped: true\n    });\n  },\n\n  handleBlur: function handleBlur() {\n    if (this.props.disabled) return;\n\n    this.setState({\n      isFlipped: false\n    });\n  },\n\n  handleKeyDown: function handleKeyDown(e) {\n    if (typeof this.props.onKeyDown === 'function') {\n      this.props.onKeyDown(e);\n    }\n  },\n\n  render: function render() {\n    return _react2['default'].createElement(\n      'div',\n      {\n        className: (0, _classnames2['default'])({\n          'ReactFlipCard': true,\n          'ReactFlipCard--vertical': this.props.type === 'vertical',\n          'ReactFlipCard--horizontal': this.props.type !== 'vertical',\n          'ReactFlipCard--flipped': this.state.isFlipped,\n          'ReactFlipCard--enabled': !this.props.disabled\n        }),\n        tabIndex: 0,\n        onFocus: this.handleFocus,\n        onBlur: this.handleBlur,\n        onKeyDown: this.handleKeyDown\n      },\n      _react2['default'].createElement(\n        'div',\n        {\n          className: 'ReactFlipCard__Flipper'\n        },\n        _react2['default'].createElement(\n          'div',\n          {\n            className: 'ReactFlipCard__Front',\n            ref: 'front',\n            tabIndex: -1,\n            'aria-hidden': this.state.isFlipped\n          },\n          this.props.children[0]\n        ),\n        _react2['default'].createElement(\n          'div',\n          {\n            className: 'ReactFlipCard__Back',\n            ref: 'back',\n            tabIndex: -1,\n            'aria-hidden': !this.state.isFlipped\n          },\n          this.props.children[1]\n        )\n      )\n    );\n  },\n\n  _showBothSides: function _showBothSides() {\n    this.refs.front.style.display = '';\n    this.refs.back.style.display = '';\n  },\n\n  _hideFlippedSide: function _hideFlippedSide() {\n    // This prevents the flipped side from being tabbable\n    if (this.props.disabled) {\n      if (this.state.isFlipped) {\n        this.refs.front.style.display = 'none';\n      } else {\n        this.refs.back.style.display = 'none';\n      }\n    }\n  }\n});\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}