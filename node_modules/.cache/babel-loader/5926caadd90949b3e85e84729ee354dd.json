{"ast":null,"code":"(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('react'), require('page-flip')) : typeof define === 'function' && define.amd ? define(['react', 'page-flip'], factory) : (global = global || self, global.HTMLFlipBook = factory(global.React, global.pageFlip));\n})(this, function (React, pageFlip) {\n  'use strict';\n\n  React = React && Object.prototype.hasOwnProperty.call(React, 'default') ? React['default'] : React;\n\n  class HTMLFlipBook extends React.Component {\n    componentDidMount() {\n      this.pageFlip = new pageFlip.PageFlip(this.el, this.props);\n      this.pageFlip.loadFromHTML(this.childRef);\n      this.setHandlers();\n    }\n\n    setHandlers() {\n      if (this.props.onFlip) this.pageFlip.on(\"flip\", e => this.props.onFlip(e));\n      if (this.props.onChangeOrientation) this.pageFlip.on(\"changeOrientation\", e => this.props.onChangeOrientation(e));\n      if (this.props.onChangeState) this.pageFlip.on(\"changeState\", e => this.props.onChangeState(e));\n      if (this.props.onInit) this.pageFlip.on(\"init\", e => this.props.onInit(e));\n      if (this.props.onUpdate) this.pageFlip.on(\"update\", e => this.props.onUpdate(e));\n    }\n\n    componentWillUnmount() {\n      this.pageFlip.destroy();\n      this.pageFlip = null;\n    }\n\n    componentDidUpdate(prevProps) {\n      if (prevProps.children !== this.props.children) {\n        this.pageFlip.off(\"flip\");\n        this.pageFlip.off(\"changeOrientation\");\n        this.pageFlip.off(\"changeState\");\n        this.pageFlip.off(\"init\");\n        this.pageFlip.off(\"update\");\n        this.pageFlip.updateFromHtml(this.childRef);\n        this.setHandlers();\n      }\n    }\n\n    getPageFlip() {\n      return this.pageFlip;\n    }\n\n    render() {\n      this.childRef = [];\n      const childWithRef = React.Children.map(this.props.children, child => {\n        return React.cloneElement(child, {\n          ref: dom => {\n            if (dom) this.childRef.push(dom);\n          }\n        });\n      });\n      return React.createElement(\"div\", {\n        ref: el => this.el = el,\n        className: this.props.className,\n        style: this.props.style\n      }, childWithRef);\n    }\n\n  }\n\n  return HTMLFlipBook;\n});","map":{"version":3,"sources":["/Users/martinraba/Desktop/book_app/node_modules/react-pageflip/main.js"],"names":["global","factory","exports","module","require","define","amd","self","HTMLFlipBook","React","pageFlip","Object","prototype","hasOwnProperty","call","Component","componentDidMount","PageFlip","el","props","loadFromHTML","childRef","setHandlers","onFlip","on","e","onChangeOrientation","onChangeState","onInit","onUpdate","componentWillUnmount","destroy","componentDidUpdate","prevProps","children","off","updateFromHtml","getPageFlip","render","childWithRef","Children","map","child","cloneElement","ref","dom","push","createElement","className","style"],"mappings":"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","sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('react'), require('page-flip')) :\n  typeof define === 'function' && define.amd ? define(['react', 'page-flip'], factory) :\n  (global = global || self, global.HTMLFlipBook = factory(global.React, global.pageFlip));\n}(this, (function (React, pageFlip) { 'use strict';\n\n  React = React && Object.prototype.hasOwnProperty.call(React, 'default') ? React['default'] : React;\n\n  class HTMLFlipBook extends React.Component {\n    componentDidMount() {\n      this.pageFlip = new pageFlip.PageFlip(this.el, this.props);\n\n      this.pageFlip.loadFromHTML(this.childRef);\n      this.setHandlers();\n    }\n\n    setHandlers() {\n      if (this.props.onFlip)\n        this.pageFlip.on(\"flip\", (e) => this.props.onFlip(e));\n\n      if (this.props.onChangeOrientation)\n        this.pageFlip.on(\"changeOrientation\", (e) =>\n          this.props.onChangeOrientation(e)\n        );\n\n      if (this.props.onChangeState)\n        this.pageFlip.on(\"changeState\", (e) => this.props.onChangeState(e));\n\n      if (this.props.onInit)\n        this.pageFlip.on(\"init\", (e) => this.props.onInit(e));\n\n      if (this.props.onUpdate)\n        this.pageFlip.on(\"update\", (e) => this.props.onUpdate(e));\n    }\n\n    componentWillUnmount() {\n      this.pageFlip.destroy();\n      this.pageFlip = null;\n    }\n\n    componentDidUpdate(prevProps) {\n      if (prevProps.children !== this.props.children) {\n        this.pageFlip.off(\"flip\");\n        this.pageFlip.off(\"changeOrientation\");\n        this.pageFlip.off(\"changeState\");\n        this.pageFlip.off(\"init\");\n        this.pageFlip.off(\"update\");\n\n        this.pageFlip.updateFromHtml(this.childRef);\n        this.setHandlers();\n      }\n    }\n\n    getPageFlip() {\n      return this.pageFlip;\n    }\n\n    render() {\n      this.childRef = [];\n\n      const childWithRef = React.Children.map(this.props.children, (child) => {\n        return React.cloneElement(child, {\n          ref: (dom) => {\n            if (dom) this.childRef.push(dom);\n          },\n        });\n      });\n\n      return React.createElement(\n        \"div\",\n        {\n          ref: (el) => (this.el = el),\n          className: this.props.className,\n          style: this.props.style,\n        },\n        childWithRef\n      );\n    }\n  }\n\n  return HTMLFlipBook;\n\n})));\n"]},"metadata":{},"sourceType":"script"}