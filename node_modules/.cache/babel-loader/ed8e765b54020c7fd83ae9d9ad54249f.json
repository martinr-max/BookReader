{"ast":null,"code":"var _jsxFileName = \"/Users/martinraba/Desktop/book_app/src/Admin/adminPage/AdminPanel.js\";\nimport React, { useEffect, useState } from 'react';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport axios from 'axios';\nimport { Button } from '@material-ui/core';\nimport './AdminPanel.css';\nexport default function AdminPanel() {\n  const [loadedBooks, setLoadedBooks] = useState([]);\n  const [values, setValues] = useState();\n  const history = useHistory();\n  const bookId = useParams().bookId;\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const newbook = {\n      title: values.title,\n      author: values.author,\n      imageUrl: values.imageUrl,\n      year: values.year,\n      pages: values.pages,\n      description: values.description\n    };\n    setValues(book);\n    axios.patch(`http://localhost:8000/api/admin/books/edit/` + bookId, newbook).then(res => {\n      console.log(res.data);\n      history.push('/admin/edit/' + bookId);\n    }).catch(err => console.log(err));\n  };\n\n  useEffect(() => {\n    axios.get('http://localhost:8000/api/bookBlog/books/').then(response => {\n      const books = response.data.books;\n      const bookArray = [];\n\n      for (const key in books) {\n        bookArray.push({\n          id: key,\n          bookId: books[key].id,\n          title: books[key].title,\n          author: books[key].author,\n          imageUrl: books[key].imageUrl,\n          description: books[key].description,\n          year: books[key].year,\n          pages: books[key].pages\n        });\n      }\n\n      setLoadedBooks(bookArray);\n    }).catch(err => console.log(err));\n  }, []);\n\n  const handleChange = event => {\n    event.persist();\n    setValues(values => ({ ...values,\n      [event.target.name]: event.target.value\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(TableContainer, {\n    component: Paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, \"Books\"), /*#__PURE__*/React.createElement(Table, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, \"Title \"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, \"Author \"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, \" ImageURL \"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, \" Description\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, \" Year\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, \" Pages\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    className: \"actions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, \"Actions\"))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, loadedBooks && loadedBooks.map(row => /*#__PURE__*/React.createElement(TableRow, {\n    key: row.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    onChange: handleChange,\n    name: \"title\",\n    component: \"th\",\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 19\n    }\n  }, row.title), /*#__PURE__*/React.createElement(TableCell, {\n    onChange: handleChange,\n    name: \"author\",\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 82\n    }\n  }, \" \", row.author, \" \")), /*#__PURE__*/React.createElement(TableCell, {\n    onChange: handleChange,\n    name: \"imageUrl\",\n    align: \"right\",\n    className: \"text\",\n    className: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 19\n    }\n  }, row.imageUrl), /*#__PURE__*/React.createElement(TableCell, {\n    onChange: handleChange,\n    name: \"description\",\n    align: \"right\",\n    className: \"text2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 19\n    }\n  }, row.description), /*#__PURE__*/React.createElement(TableCell, {\n    onChange: handleChange,\n    name: \"year\",\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 19\n    }\n  }, row.year), /*#__PURE__*/React.createElement(TableCell, {\n    onChange: handleChange,\n    name: \"pages\",\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 19\n    }\n  }, row.pages), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    href: `/admin/edit/${row.bookId}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 44\n    }\n  }, \"EDIT\")))))));\n}","map":{"version":3,"sources":["/Users/martinraba/Desktop/book_app/src/Admin/adminPage/AdminPanel.js"],"names":["React","useEffect","useState","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","axios","Button","AdminPanel","loadedBooks","setLoadedBooks","values","setValues","history","useHistory","bookId","useParams","handleSubmit","event","preventDefault","newbook","title","author","imageUrl","year","pages","description","book","patch","then","res","console","log","data","push","catch","err","get","response","books","bookArray","key","id","handleChange","persist","target","name","value","map","row"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport axios from 'axios';\nimport { Button } from '@material-ui/core';\nimport './AdminPanel.css'\n\nexport default function AdminPanel() {\n\n\n    const [loadedBooks, setLoadedBooks] = useState([])\n    const [values, setValues] = useState();\n    const history = useHistory();\n\n    const bookId = useParams().bookId;\n    \n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        const newbook = {\n          title: values.title,\n          author: values.author,\n          imageUrl: values.imageUrl,\n          year: values.year,\n          pages: values.pages,\n          description: values.description\n        } \n        setValues(book);\n\n        axios.patch (`http://localhost:8000/api/admin/books/edit/` + bookId, newbook)\n        .then(res => {\n          console.log(res.data);\n          history.push('/admin/edit/' + bookId);\n          \n        })\n        .catch(err => console.log(err))\n    }; \n\n\n\n    useEffect( () => {\n        \n        axios.get('http://localhost:8000/api/bookBlog/books/')\n        .then( response => {\n            const books = response.data.books;\n            const bookArray = []\n            for(const key in books) {\n              bookArray.push({\n                id: key,\n                bookId: books[key].id,\n                title: books[key].title,\n                author: books[key].author,\n                imageUrl: books[key].imageUrl,\n                description: books[key].description,\n                year: books[key].year,\n                pages: books[key].pages\n              })\n              \n            } \n            setLoadedBooks(bookArray)   \n     \n        })\n        .catch(err => console.log(err))       \n }, []);\n\n const handleChange = (event) => {\n    event.persist();\n    setValues(values => ({\n      ...values,\n      [event.target.name]: event.target.value\n  }));\n }\n\n    return (\n        <TableContainer component={Paper}>\n            <h2>Books</h2>\n          <Table>\n            <TableHead>\n              <TableRow>\n                <TableCell align=\"left\">Title </TableCell>\n                <TableCell align=\"left\">Author </TableCell>\n                <TableCell align=\"left\"> ImageURL </TableCell>\n                <TableCell align=\"left\"> Description</TableCell>\n                <TableCell align=\"left\"> Year</TableCell>\n                <TableCell align=\"left\"> Pages</TableCell>\n                <TableCell align=\"left\"className=\"actions\">Actions</TableCell>\n\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              { loadedBooks && loadedBooks.map((row) => (\n                <TableRow key={row.id}>\n                  <TableCell onChange={handleChange} name=\"title\" component=\"th\" scope=\"row\">{row.title}</TableCell>\n                  <TableCell onChange={handleChange} name=\"author\" align=\"right\"><div> {row.author} </div></TableCell>\n                  <TableCell onChange={handleChange} name=\"imageUrl\" align=\"right\" className=\"text\"className=\"text\">{row.imageUrl}</TableCell>\n                  <TableCell onChange={handleChange} name=\"description\" align=\"right\" className=\"text2\">{row.description}</TableCell>\n                  <TableCell onChange={handleChange} name=\"year\" align=\"right\">{row.year}</TableCell>\n                  <TableCell onChange={handleChange} name=\"pages\" align=\"right\">{row.pages}</TableCell>\n                  <TableCell align=\"right\"><Button href={`/admin/edit/${row.bookId}`} >EDIT</Button></TableCell>\n\n\n                </TableRow>\n              )) }\n            </TableBody>\n          </Table>\n        </TableContainer>\n      );\n    \n\n}\n\n"]},"metadata":{},"sourceType":"module"}