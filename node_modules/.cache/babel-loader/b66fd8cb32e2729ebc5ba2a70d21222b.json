{"ast":null,"code":"var _jsxFileName = \"/Users/martinraba/Desktop/book_app/src/context/AuthContext.js\";\nimport { createContext } from 'react';\nexport const AuthContext = createContext({});\nexport const AuthProvider = ({\n  children\n}) => {\n  const [userId, setUserId] = useState();\n  const login = useCallback(uid => {\n    setUserId(uid);\n    localStorage.setItem('userData', JSON.stringify({\n      userId: uid\n    }));\n  }, []);\n  const logout = useCallback(() => {\n    setUserId(null);\n    localStorage.removeItem('userData');\n  }, []);\n  useEffect(() => {\n    const storedData = JSON.parse(localStorage.getItem('userData'));\n\n    if (storedData) {\n      login(storedData.userId);\n    }\n  }, [login]);\n  return /*#__PURE__*/React.createElement(AuthContext.Provider, {\n    value: {\n      isLoggedIn: userId != null,\n      userId: userId,\n      login: login,\n      logout: logout\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }, \" \", children);\n};","map":{"version":3,"sources":["/Users/martinraba/Desktop/book_app/src/context/AuthContext.js"],"names":["createContext","AuthContext","AuthProvider","children","userId","setUserId","useState","login","useCallback","uid","localStorage","setItem","JSON","stringify","logout","removeItem","useEffect","storedData","parse","getItem","isLoggedIn"],"mappings":";AAAA,SAAQA,aAAR,QAA4B,OAA5B;AAGA,OAAO,MAAMC,WAAW,GAAGD,aAAa,CAAC,EAAD,CAAjC;AAEP,OAAO,MAAME,YAAY,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAgB;AAC1C,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBC,QAAQ,EAApC;AAEA,QAAMC,KAAK,GAAGC,WAAW,CAAEC,GAAD,IAAS;AACjCJ,IAAAA,SAAS,CAACI,GAAD,CAAT;AACAC,IAAAA,YAAY,CAACC,OAAb,CACE,UADF,EAEEC,IAAI,CAACC,SAAL,CAAe;AACZT,MAAAA,MAAM,EAAEK;AADI,KAAf,CAFF;AAMD,GARwB,EAQtB,EARsB,CAAzB;AAUA,QAAMK,MAAM,GAAGN,WAAW,CAAC,MAAM;AAC/BH,IAAAA,SAAS,CAAC,IAAD,CAAT;AACAK,IAAAA,YAAY,CAACK,UAAb,CAAwB,UAAxB;AACD,GAHyB,EAGvB,EAHuB,CAA1B;AAOAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMC,UAAU,GAAGL,IAAI,CAACM,KAAL,CAAWR,YAAY,CAACS,OAAb,CAAqB,UAArB,CAAX,CAAnB;;AACA,QAAGF,UAAH,EAAe;AACbV,MAAAA,KAAK,CAACU,UAAU,CAACb,MAAZ,CAAL;AACD;AAEF,GANQ,EAMP,CAACG,KAAD,CANO,CAAT;AAQA,sBACE,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAC3Ba,MAAAA,UAAU,EAAEhB,MAAM,IAAI,IADK;AAE3BA,MAAAA,MAAM,EAAEA,MAFmB;AAG3BG,MAAAA,KAAK,EAAEA,KAHoB;AAI3BO,MAAAA,MAAM,EAAEA;AAJmB,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAKKX,QALL,CADF;AAWD,CAvCM","sourcesContent":["import {createContext} from 'react';\n\n\nexport const AuthContext = createContext({});\n\nexport const AuthProvider = ({children}) => {\n  const [userId, setUserId] = useState();\n\n  const login = useCallback((uid) => {\n    setUserId(uid);\n    localStorage.setItem(\n      'userData',\n      JSON.stringify({\n         userId: uid,\n      })\n    )\n  }, []);\n\n  const logout = useCallback(() => {\n    setUserId(null);\n    localStorage.removeItem('userData');\n  }, []);\n\n\n\n  useEffect(() => {\n    const storedData = JSON.parse(localStorage.getItem('userData'));\n    if(storedData) {\n      login(storedData.userId);\n    }\n\n  },[login]);\n\n  return(\n    <AuthContext.Provider value={{\n      isLoggedIn: userId != null,\n      userId: userId,\n      login: login,\n      logout: logout\n    }}> {children}\n    </AuthContext.Provider>\n  )\n\n\n}"]},"metadata":{},"sourceType":"module"}