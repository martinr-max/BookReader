{"ast":null,"code":"var _jsxFileName = \"/Users/martinraba/Desktop/book_app/src/auth/signup/Signup.js\";\nimport React, { useState } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Container from '@material-ui/core/Container';\nimport { withRouter, useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport './Signup.css';\nimport { useForm } from \"react-hook-form\";\nimport Alert from '@material-ui/lab/Alert';\nimport CircularIndeterminate from '../../shared/progressCircle/ProgressCircle';\n\nconst SignupForm = () => {\n  const history = useHistory();\n  const [error, setError] = useState(\"\");\n  const [isLoading, setIsloading] = useState(false);\n  const {\n    register,\n    handleSubmit\n  } = useForm();\n\n  const onSubmit = async data => {\n    const newUser = {\n      name: data.name,\n      email: data.email,\n      password: data.password,\n      roles: [\"user\"]\n    };\n\n    try {\n      setIsloading(true);\n      const responseData = await axios.post('http://localhost:8000/api/user/signup', newUser);\n      console.log(responseData);\n      history.push(`/user/login`);\n    } catch (err) {\n      setError(err.responseData.data.message);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, error && /*#__PURE__*/React.createElement(Alert, {\n    severity: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 26\n    }\n  }, \" \", error, \" \"), isLoading && !error && /*#__PURE__*/React.createElement(CircularIndeterminate, {\n    size: \"7rem\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 38\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"signupForm\",\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 25\n    }\n  }, \"Sign up\"), /*#__PURE__*/React.createElement(TextField, {\n    id: \"input\",\n    label: \"Name\",\n    name: \"name\",\n    defaultValue: \"\",\n    inputRef: register({\n      required: true,\n      minLength: 2\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"input\",\n    label: \"E-mail\",\n    type: \"email\",\n    name: \"email\",\n    defaultValue: \"\",\n    inputRef: register({\n      required: true,\n      minLength: 5\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"input\",\n    label: \"Password\",\n    type: \"password\",\n    name: \"password\",\n    defaultValue: \"\",\n    inputRef: register({\n      required: true,\n      minLength: 6\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    className: \"signupButton\",\n    color: \"primary\",\n    variant: \"contained\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 25\n    }\n  }, \"SIGN UP\")))));\n};\n\nexport default withRouter(SignupForm);","map":{"version":3,"sources":["/Users/martinraba/Desktop/book_app/src/auth/signup/Signup.js"],"names":["React","useState","TextField","Button","Container","withRouter","useHistory","axios","useForm","Alert","CircularIndeterminate","SignupForm","history","error","setError","isLoading","setIsloading","register","handleSubmit","onSubmit","data","newUser","name","email","password","roles","responseData","post","console","log","push","err","message","required","minLength"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Container from '@material-ui/core/Container';\nimport { withRouter, useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport './Signup.css';\nimport { useForm } from \"react-hook-form\";\nimport Alert from '@material-ui/lab/Alert';\nimport CircularIndeterminate from '../../shared/progressCircle/ProgressCircle';\n\nconst SignupForm = () => {\n    \n    const history = useHistory();\n    const [error, setError] = useState(\"\");\n    const [isLoading, setIsloading] = useState(false);\n    const { register, handleSubmit } = useForm();\n\n    const onSubmit = async (data) => {\n       const newUser = {\n           name: data.name,\n           email: data.email,\n           password: data.password,\n           roles: [\"user\"]\n       }\n       try {\n           setIsloading(true);\n           const responseData = await axios.post('http://localhost:8000/api/user/signup', newUser);\n           console.log(responseData)\n           history.push(`/user/login`);\n       }\n       catch(err) {\n           setError(err.responseData.data.message)\n\n       }\n    } \n\n    return(\n        <React.Fragment>\n             { error &&  <Alert severity=\"error\"> { error } </Alert> }\n             {isLoading && !error && <CircularIndeterminate size=\"7rem\" color=\"primary\" />}\n            <div>\n                <Container>\n                    <form  className=\"signupForm\" onSubmit={handleSubmit(onSubmit)} >\n                        <h1>Sign up</h1>\n                        <TextField\n                        id=\"input\"\n                        label=\"Name\"\n                        name=\"name\"\n                        defaultValue=\"\"\n                        inputRef={register({ required: true, minLength: 2 })}\n                        />\n                        <TextField \n                        id=\"input\"\n                        label=\"E-mail\"\n                        type=\"email\"\n                        name=\"email\"\n                        defaultValue=\"\"\n                        inputRef={register({ required: true, minLength: 5 })}\n                        />\n                        <TextField\n                        id=\"input\"\n                        label=\"Password\"\n                        type=\"password\"\n                        name=\"password\"\n                        defaultValue=\"\"\n                        inputRef={register({ required: true, minLength: 6 })}\n                        />\n                        <Button\n                        className=\"signupButton\"\n                        color=\"primary\"\n                        variant=\"contained\"\n                        type=\"submit\" >\n                         SIGN UP \n                        </Button>\n                    </form>\n                </Container>\n            </div>\n        </React.Fragment>\n    )\n\n}\n\nexport default withRouter(SignupForm);"]},"metadata":{},"sourceType":"module"}