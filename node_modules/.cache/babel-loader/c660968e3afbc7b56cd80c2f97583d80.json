{"ast":null,"code":"var _jsxFileName = \"/Users/martinraba/Desktop/book_app/src/Books/userBooksList/UserBookList.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Container } from '@material-ui/core';\nimport { useParams } from 'react-router-dom';\nimport './UserBookList.css';\nimport UserBooklistItem from '../userBooklistItem/UserBooklistItem';\nexport default function UserBookList() {\n  const [loadedBook, setLoadedBook] = useState([]);\n  const [bookIndex, setBookIndex] = useState();\n  const userId = useParams().userId;\n  const [open, setOpen] = useState(false);\n\n  const handleclickOpen = index => {\n    let bookId = index;\n    setBookIndex(bookId);\n    console.log(bookIndex);\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  useEffect(() => {\n    axios.get('http://localhost:8000/api/bookBlog/booklist/' + userId).then(response => {\n      const books = response.data.books;\n      setLoadedBook(books);\n    }).catch(err => console.log(err));\n  }, [userId]);\n\n  const handleDeleteUserBook = () => {\n    axios.delete('http://localhost:8000/api/bookBlog/booklist/delete/' + userId).then(response => {\n      console.log(response);\n      setLoadedBook(prevBooks => prevBooks.filter(book => book.bookId !== bookIndex));\n    }).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, \"Your Booklist\"), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"userBookList\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, loadedBook.length === 0 ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"listIsEmpty\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, \" Your list is empty. Maybe add some book?\") : loadedBook && loadedBook.map(book => {\n    return /*#__PURE__*/React.createElement(UserBooklistItem, {\n      key: book.id,\n      id: book.id,\n      title: book.title,\n      author: book.author,\n      imageUrl: book.imageUrl,\n      open: open,\n      handleclickOpen: handleclickOpen,\n      handleClose: handleClose,\n      bookIndex: bookIndex,\n      handleDeleteUserBook: handleDeleteUserBook,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 24\n      }\n    });\n  })));\n}","map":{"version":3,"sources":["/Users/martinraba/Desktop/book_app/src/Books/userBooksList/UserBookList.js"],"names":["React","useState","useEffect","axios","Container","useParams","UserBooklistItem","UserBookList","loadedBook","setLoadedBook","bookIndex","setBookIndex","userId","open","setOpen","handleclickOpen","index","bookId","console","log","handleClose","get","then","response","books","data","catch","err","handleDeleteUserBook","delete","prevBooks","filter","book","length","map","id","title","author","imageUrl"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Container } from '@material-ui/core';\nimport { useParams } from 'react-router-dom';\nimport './UserBookList.css';\nimport UserBooklistItem from '../userBooklistItem/UserBooklistItem';\n\nexport default function UserBookList() {\n\n    const [loadedBook, setLoadedBook] = useState([]);\n    const [bookIndex, setBookIndex] = useState()\n\n    const userId = useParams().userId;\n\n    const [open, setOpen] = useState(false);\n\n    const handleclickOpen = (index) => {\n        let bookId = index;\n         setBookIndex(bookId);\n         console.log(bookIndex)\n         setOpen(true);\n       };\n   \n       const handleClose = () => {\n         setOpen(false);\n       }\n\n    useEffect( () => {\n        \n           axios.get('http://localhost:8000/api/bookBlog/booklist/' + userId)\n           .then( response => {\n               const books = response.data.books;\n               setLoadedBook(books)\n           })\n           .catch(err => console.log(err))       \n    }, [userId]);\n\n\n   \n    const handleDeleteUserBook = () =>{ \n         axios.delete('http://localhost:8000/api/bookBlog/booklist/delete/' + userId)\n        .then( response => {\n            console.log(response)\n            setLoadedBook(prevBooks => prevBooks.filter(book => book.bookId !== bookIndex))\n        })\n        .catch(err => console.log(err))       }\n    \n    return(\n        <Container className=\"container\">\n        <h3>Your Booklist</h3>\n        \n        <ul className=\"userBookList\">\n        {loadedBook.length === 0 ?\n            <p className=\"listIsEmpty\"> Your list is empty. Maybe add some book?</p>\n             :\n            loadedBook &&  loadedBook.map(book => {\n                return <UserBooklistItem\n                    key = {book.id}\n                    id = {book.id}\n                    title={book.title}\n                    author={book.author}\n                    imageUrl= {book.imageUrl}\n                    open={open}\n                    handleclickOpen={handleclickOpen}\n                    handleClose={handleClose}\n                    bookIndex={bookIndex}\n                    handleDeleteUserBook= {handleDeleteUserBook}\n             />})\n        }\n        </ul>\n        </Container>\n    )\n}"]},"metadata":{},"sourceType":"module"}