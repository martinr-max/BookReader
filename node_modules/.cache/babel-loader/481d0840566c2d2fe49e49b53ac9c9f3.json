{"ast":null,"code":"var _jsxFileName = \"/Users/martinraba/Desktop/book_app/src/Admin/addBook/AddBook.js\";\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Container } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Alert from '@material-ui/lab/Alert';\nimport axios from 'axios';\nimport './AddBook.css';\nimport CircularIndeterminate from '../../shared/progressCircle/ProgressCircle';\nexport default function AddBook() {\n  const [values, setValues] = useState({\n    title: \"\",\n    author: \"\",\n    imageUrl: '',\n    year: '',\n    pages: '',\n    description: \"\"\n  });\n  const [error, setError] = useState(\"\");\n  const [isLoading, setIsloading] = useState(false);\n  const history = useHistory();\n\n  const handleChange = event => {\n    event.persist();\n    setValues(values => ({ ...values,\n      [event.target.name]: event.target.value\n    }));\n  };\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    const book = {\n      title: values.title,\n      author: values.author,\n      imageUrl: values.imageUrl,\n      year: values.year,\n      pages: values.pages,\n      description: values.description\n    };\n    setValues(book);\n\n    try {\n      await axios.post(`http://localhost:8000/api/admin/`, book);\n      history.push('/admin/adminpanel');\n    } catch (err) {\n      setError(err.response.data.message);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, error && /*#__PURE__*/React.createElement(Alert, {\n    severity: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }, \" \", error, \" \"), isLoading && !error && /*#__PURE__*/React.createElement(CircularIndeterminate, {\n    size: \"7rem\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"bookForm\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, \"Add a New Book\"), /*#__PURE__*/React.createElement(TextField, {\n    id: \"input\",\n    label: \"title\",\n    type: \"text\",\n    name: \"title\",\n    required: true,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"input\",\n    label: \"author\",\n    type: \"text\",\n    name: \"author\",\n    required: true,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"input\",\n    label: \"imageUrl\",\n    type: \"text\",\n    name: \"imageUrl\",\n    required: true,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"input\",\n    label: \"year\",\n    type: \"number\",\n    name: \"year\",\n    required: true,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"input\",\n    label: \"pages\",\n    type: \"number\",\n    name: \"pages\",\n    required: true,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"textarea\",\n    label: \"description\",\n    type: \"text\",\n    name: \"description\",\n    multiline: true,\n    rows: 3,\n    rowsMax: 3,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    className: \"addBookButton\",\n    color: \"primary\",\n    size: \"large\",\n    variant: \"contained\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, \"ADD BOOK\"))));\n}","map":{"version":3,"sources":["/Users/martinraba/Desktop/book_app/src/Admin/addBook/AddBook.js"],"names":["React","useState","useHistory","Container","TextField","Button","Alert","axios","CircularIndeterminate","AddBook","values","setValues","title","author","imageUrl","year","pages","description","error","setError","isLoading","setIsloading","history","handleChange","event","persist","target","name","value","handleSubmit","preventDefault","book","post","push","err","response","data","message"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport {useHistory} from 'react-router-dom'\nimport { Container } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Alert from '@material-ui/lab/Alert';\nimport axios from 'axios'\nimport './AddBook.css'\nimport CircularIndeterminate from '../../shared/progressCircle/ProgressCircle';\n\n\nexport default function AddBook() {\n\n    const [values, setValues] = useState({\n        title: \"\",\n        author: \"\",\n        imageUrl: '',\n        year: '',\n        pages: '',\n        description: \"\"\n      });\n    const [error, setError] = useState(\"\");\n    const [isLoading, setIsloading] = useState(false);\n\n\n    const history = useHistory();\n\n    const handleChange = (event) => {\n        event.persist();\n        setValues(values => ({\n          ...values,\n          [event.target.name]: event.target.value\n      }));\n     }\n     \n     const handleSubmit = async (event) => {\n        event.preventDefault();\n        const book = {\n          title: values.title,\n          author: values.author,\n          imageUrl: values.imageUrl,\n          year: values.year,\n          pages: values.pages,\n          description: values.description\n        } \n        setValues(book);\n        try {\n          await  axios.post(`http://localhost:8000/api/admin/`, book);\n          history.push('/admin/adminpanel');\n        }\n        catch(err) {\n          setError(err.response.data.message);\n\n        }\n    \n    }; \n \n    return(\n      <React.Fragment>\n        { error &&  <Alert severity=\"error\"> { error } </Alert> }\n        {isLoading && !error && <CircularIndeterminate size=\"7rem\" color=\"primary\" />}     \n        <Container>\n         <form  className=\"bookForm\" onSubmit={handleSubmit} >\n            <h2>Add a New Book</h2>\n            <TextField \n            id=\"input\"\n            label=\"title\"\n            type=\"text\"\n            name=\"title\"\n            required\n            onChange={handleChange} />\n            <TextField\n            id=\"input\"\n            label=\"author\"\n            type=\"text\"\n            name=\"author\"\n            required\n            onChange={handleChange} />\n            <TextField\n            id=\"input\"\n            label=\"imageUrl\"\n            type=\"text\"\n            name=\"imageUrl\"\n            required\n            onChange={handleChange} />\n            <TextField\n            id=\"input\"\n            label=\"year\"\n            type=\"number\"\n            name=\"year\"\n            required\n            onChange={handleChange} />\n            <TextField\n            id=\"input\"\n            label=\"pages\"\n            type=\"number\"\n            name=\"pages\"\n            required\n            onChange={handleChange} />\n            <TextField\n            id=\"textarea\"\n            label=\"description\"\n            type=\"text\"\n            name=\"description\"\n            multiline\n            rows={3}\n            rowsMax={3}\n            onChange={handleChange} />\n            <Button\n            className=\"addBookButton\"\n            color=\"primary\"\n            size=\"large\"\n            variant=\"contained\"\n            type=\"submit\" >\n                 ADD BOOK\n            </Button> \n        </form>\n      </Container>\n    </React.Fragment>\n  )\n}"]},"metadata":{},"sourceType":"module"}