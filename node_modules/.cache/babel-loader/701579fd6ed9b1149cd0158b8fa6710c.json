{"ast":null,"code":"var _jsxFileName = \"/Users/martinraba/Desktop/book_app/src/Admin/adminPage/AdminPanel.js\";\nimport React, { useEffect, useState, useRef } from 'react';\nimport './AdminPanel.css';\nimport axios from 'axios';\nimport AdminTable from '../AdminTable/AdminTable';\nimport EditBookModal from '../editBookModal/EditBookModal';\nexport default function AdminPanel() {\n  const [loadedBooks, setLoadedBooks] = useState([]);\n  const [open, setOpen] = React.useState(false);\n  const bookId = useRef('');\n  useEffect(() => {\n    axios.get('http://localhost:8000/api/bookBlog/books/').then(response => {\n      const books = response.data.books;\n      bookId.current = response.data.books.id;\n      console.log(bookId.current);\n      const bookArray = [];\n\n      for (const key in books) {\n        bookArray.push({\n          id: key,\n          bookId: books[key].id,\n          title: books[key].title,\n          author: books[key].author,\n          imageUrl: books[key].imageUrl,\n          description: books[key].description,\n          year: books[key].year,\n          pages: books[key].pages\n        });\n      }\n\n      setLoadedBooks(bookArray);\n    }).catch(err => console.log(err));\n  }, []);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, loadedBooks && /*#__PURE__*/React.createElement(AdminTable, {\n    loadedBooks: loadedBooks,\n    handleOpen: handleOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 29\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/martinraba/Desktop/book_app/src/Admin/adminPage/AdminPanel.js"],"names":["React","useEffect","useState","useRef","axios","AdminTable","EditBookModal","AdminPanel","loadedBooks","setLoadedBooks","open","setOpen","bookId","get","then","response","books","data","current","id","console","log","bookArray","key","push","title","author","imageUrl","description","year","pages","catch","err","handleOpen","handleClose"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,OAAO,kBAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,aAAP,MAA0B,gCAA1B;AAEA,eAAe,SAASC,UAAT,GAAsB;AAGjC,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCP,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAACQ,IAAD,EAAOC,OAAP,IAAkBX,KAAK,CAACE,QAAN,CAAe,KAAf,CAAxB;AAEA,QAAMU,MAAM,GAAGT,MAAM,CAAC,EAAD,CAArB;AAGAF,EAAAA,SAAS,CAAE,MAAM;AAEbG,IAAAA,KAAK,CAACS,GAAN,CAAU,2CAAV,EACCC,IADD,CACOC,QAAQ,IAAI;AACf,YAAMC,KAAK,GAAGD,QAAQ,CAACE,IAAT,CAAcD,KAA5B;AACAJ,MAAAA,MAAM,CAACM,OAAP,GAAiBH,QAAQ,CAACE,IAAT,CAAcD,KAAd,CAAoBG,EAArC;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYT,MAAM,CAACM,OAAnB;AACA,YAAMI,SAAS,GAAG,EAAlB;;AACA,WAAI,MAAMC,GAAV,IAAiBP,KAAjB,EAAwB;AACtBM,QAAAA,SAAS,CAACE,IAAV,CAAe;AACbL,UAAAA,EAAE,EAAEI,GADS;AAEbX,UAAAA,MAAM,EAAEI,KAAK,CAACO,GAAD,CAAL,CAAWJ,EAFN;AAGbM,UAAAA,KAAK,EAAET,KAAK,CAACO,GAAD,CAAL,CAAWE,KAHL;AAIbC,UAAAA,MAAM,EAAEV,KAAK,CAACO,GAAD,CAAL,CAAWG,MAJN;AAKbC,UAAAA,QAAQ,EAAEX,KAAK,CAACO,GAAD,CAAL,CAAWI,QALR;AAMbC,UAAAA,WAAW,EAAEZ,KAAK,CAACO,GAAD,CAAL,CAAWK,WANX;AAObC,UAAAA,IAAI,EAAEb,KAAK,CAACO,GAAD,CAAL,CAAWM,IAPJ;AAQbC,UAAAA,KAAK,EAAEd,KAAK,CAACO,GAAD,CAAL,CAAWO;AARL,SAAf;AAWD;;AACDrB,MAAAA,cAAc,CAACa,SAAD,CAAd;AAEH,KArBD,EAsBCS,KAtBD,CAsBOC,GAAG,IAAIZ,OAAO,CAACC,GAAR,CAAYW,GAAZ,CAtBd;AAuBN,GAzBW,EAyBT,EAzBS,CAAT;;AA4BF,QAAMC,UAAU,GAAG,MAAM;AACvBtB,IAAAA,OAAO,CAAC,IAAD,CAAP;AACD,GAFD;;AAIA,QAAMuB,WAAW,GAAG,MAAM;AACxBvB,IAAAA,OAAO,CAAC,KAAD,CAAP;AACD,GAFD;;AAKE,sBACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKH,WAAW,iBAAI,oBAAC,UAAD;AAAY,IAAA,WAAW,EAAEA,WAAzB;AAAsC,IAAA,UAAU,EAAEyB,UAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADpB,CADJ;AAOH","sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport './AdminPanel.css'\nimport axios from 'axios';\nimport AdminTable from '../AdminTable/AdminTable';\nimport EditBookModal from '../editBookModal/EditBookModal';\n\nexport default function AdminPanel() {\n\n\n    const [loadedBooks, setLoadedBooks] = useState([])\n    const [open, setOpen] = React.useState(false);\n    \n    const bookId = useRef('')\n\n      \n    useEffect( () => {\n        \n        axios.get('http://localhost:8000/api/bookBlog/books/')\n        .then( response => {\n            const books = response.data.books;\n            bookId.current = response.data.books.id\n            console.log(bookId.current)\n            const bookArray = []\n            for(const key in books) {\n              bookArray.push({\n                id: key,\n                bookId: books[key].id,\n                title: books[key].title,\n                author: books[key].author,\n                imageUrl: books[key].imageUrl,\n                description: books[key].description,\n                year: books[key].year,\n                pages: books[key].pages\n              })\n              \n            } \n            setLoadedBooks(bookArray)   \n     \n        })\n        .catch(err => console.log(err))       \n }, []);\n\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n \n\n    return (\n        <React.Fragment>\n            {loadedBooks && <AdminTable loadedBooks={loadedBooks} handleOpen={handleOpen}  /> }\n        </React.Fragment>\n      );\n    \n\n}\n\n"]},"metadata":{},"sourceType":"module"}