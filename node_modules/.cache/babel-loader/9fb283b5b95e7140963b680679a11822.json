{"ast":null,"code":"var _jsxFileName = \"/Users/martinraba/Desktop/book_app/src/navigation/searchEngine/SearchEngine.js\";\nimport React, { useState, useEffect, useRef, useMemo } from 'react';\nimport axios from 'axios';\nimport SearchResultsPage from '../searchResultsPage/SearchResultsPage';\nimport { Button } from '@material-ui/core';\nconst Search = React.memo(props => {\n  const [input, setInput] = useState('');\n  const [countryListDefault, setCountryListDefault] = useState();\n  const [countryList, setCountryList] = useState();\n\n  const fetchData = async () => {\n    return await fetch('https://localhost:8000/boobBlog/books').then(response => response.json()).then(data => {\n      setCountryList(data);\n      setCountryListDefault(data);\n    });\n  };\n\n  const updateInput = async input => {\n    const filtered = countryListDefault.filter(country => {\n      return country.name.toLowerCase().includes(input.toLowerCase());\n    });\n    setInput(input);\n    setCountryList(filtered);\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n  /*\n    React.useMemo(() => {\n     const results = loadedBooks.filter(book =>\n       book.title.toLowerCase().includes(searchText)\n     );\n     setSearchResult(results);\n   }, [searchText, loadedBooks]);\n       */\n\n  console.log(countryList);\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: submitForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"search\",\n    input: input,\n    onChange: updateInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }, \"Find\"))));\n});\nexport default Search;","map":{"version":3,"sources":["/Users/martinraba/Desktop/book_app/src/navigation/searchEngine/SearchEngine.js"],"names":["React","useState","useEffect","useRef","useMemo","axios","SearchResultsPage","Button","Search","memo","props","input","setInput","countryListDefault","setCountryListDefault","countryList","setCountryList","fetchData","fetch","then","response","json","data","updateInput","filtered","filter","country","name","toLowerCase","includes","console","log","submitForm"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,EAA6CC,OAA7C,QAA4D,OAA5D;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,iBAAP,MAA8B,wCAA9B;AACA,SAASC,MAAT,QAAuB,mBAAvB;AAEA,MAAMC,MAAM,GAAGR,KAAK,CAACS,IAAN,CAAWC,KAAK,IAAI;AAE/B,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,EAAD,CAAlC;AACF,QAAM,CAACY,kBAAD,EAAqBC,qBAArB,IAA8Cb,QAAQ,EAA5D;AACA,QAAM,CAACc,WAAD,EAAcC,cAAd,IAAgCf,QAAQ,EAA9C;;AAGE,QAAMgB,SAAS,GAAG,YAAY;AAC1B,WAAO,MAAMC,KAAK,CAAC,uCAAD,CAAL,CACVC,IADU,CACLC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADP,EAEVF,IAFU,CAELG,IAAI,IAAI;AACXN,MAAAA,cAAc,CAACM,IAAD,CAAd;AACAR,MAAAA,qBAAqB,CAACQ,IAAD,CAArB;AACD,KALS,CAAb;AAKO,GANX;;AAQE,QAAMC,WAAW,GAAG,MAAOZ,KAAP,IAAiB;AAClC,UAAMa,QAAQ,GAAGX,kBAAkB,CAACY,MAAnB,CAA0BC,OAAO,IAAI;AACrD,aAAOA,OAAO,CAACC,IAAR,CAAaC,WAAb,GAA2BC,QAA3B,CAAoClB,KAAK,CAACiB,WAAN,EAApC,CAAP;AACA,KAFgB,CAAjB;AAGAhB,IAAAA,QAAQ,CAACD,KAAD,CAAR;AACAK,IAAAA,cAAc,CAACQ,QAAD,CAAd;AACF,GAND;;AAQAtB,EAAAA,SAAS,CAAE,MAAM;AAACe,IAAAA,SAAS;AAAG,GAArB,EAAsB,EAAtB,CAAT;AAKD;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAIIa,EAAAA,OAAO,CAACC,GAAR,CAAYhB,WAAZ;AAEF,sBACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAM,IAAA,QAAQ,EAAEiB,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,WAAW,EAAC,QAA/B;AAAwC,IAAA,KAAK,EAAErB,KAA/C;AAAsD,IAAA,QAAQ,EAAEY,WAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,CADJ,CADR,CADJ;AAeD,CAxDc,CAAf;AA2DA,eAAef,MAAf","sourcesContent":["import React, { useState, useEffect, useRef, useMemo } from 'react';\nimport axios from 'axios';\nimport SearchResultsPage from '../searchResultsPage/SearchResultsPage';\nimport { Button } from '@material-ui/core';\n\nconst Search = React.memo(props => {\n\n    const [input, setInput] = useState('');\n  const [countryListDefault, setCountryListDefault] = useState();\n  const [countryList, setCountryList] = useState();\n\n\n    const fetchData = async () => {\n        return await fetch('https://localhost:8000/boobBlog/books')\n          .then(response => response.json())\n          .then(data => {\n             setCountryList(data) \n             setCountryListDefault(data)\n           });}\n    \n      const updateInput = async (input) => {\n         const filtered = countryListDefault.filter(country => {\n          return country.name.toLowerCase().includes(input.toLowerCase())\n         })\n         setInput(input);\n         setCountryList(filtered);\n      }\n    \n      useEffect( () => {fetchData()},[]);\n\n\n        \n   \n     /*\n\n      React.useMemo(() => {\n        const results = loadedBooks.filter(book =>\n          book.title.toLowerCase().includes(searchText)\n        );\n        setSearchResult(results);\n      }, [searchText, loadedBooks]);\n    \n     */\n       \n    console.log(countryList)\n\n  return (\n      <React.Fragment>\n              <div>\n                  <form onSubmit={submitForm}> \n                    <input type=\"text\" placeholder=\"search\" input={input} onChange={updateInput} />\n                    <button type=\"submit\">Find</button>\n                  </form>\n     \n \n    </div>\n    \n                \n                </React.Fragment>\n\n  );\n});\n\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}